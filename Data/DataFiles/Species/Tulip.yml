name: tulip
modules:
  - name: base_texture
    kind: AtlasTexture
    params:
      path: res://Resources/Coloured_Shapes/Tulip.png
      width: !!int 4
      height: !!int 4
      sub_texture: !!int 3

  - name: trim_texture
    kind: AtlasTexture
    parent: base_texture
    params:
      path: res://Resources/Coloured_Shapes/Tulip_Trim.png
      width: !!int 4
      height: !!int 4
      sub_texture: !!int 3
      hidden: !!bool true
  
  - name: trim_saturation
    kind: TintShader
    parent: trim_texture
    params:
      colour_mode: hsv

genome:
  - name: colour_1
    alleles:
      - R
      - "y"
      - b
    default: RR
    phenotypes:
      Ry:
        interactions:
          - red
          - yellow
      R*:
        interactions:
          - red
      y*:
        interactions:
          - yellow
      bb:
        interactions:
          - blue
      
  - name: pigment
    alleles:
      - P
      - p
    default: PP
    phenotypes:
      P*:
        interactions:
          - pigment
  
  - name: trim 
    alleles:
      - T
      - t
    default: tt
    phenotypes:
      T*:
        modules:
          trim_texture: 
            hidden: !!bool false
      tt:
        modules:
          trim_texture: 
            hidden: !!bool true

  - name: trim_saturation
    alleles:
      - "N"
      - h
      - l
    default: SS
    phenotypes:
      N*:
        modules:
          trim_saturation:
            v: !!float 0.0
      hh:
        modules:
          trim_saturation:
            v: !!float 0.2
      hl:
        modules:
          trim_saturation:
            v: !!float 0.0
      ll:
        modules:
          trim_saturation:
            v: !!float -0.2 

interactions:
  - requirements:
      - pigment
      - red
      - yellow
    results:
      modules:
        base_texture: 
          sub_texture: !!int 2
  - requirements: 
      - pigment
      - red
    results:
      modules:
        base_texture: 
          sub_texture: !!int 0
  - requirements: 
      - pigment
      - yellow
    results:
      modules:
        base_texture: 
          sub_texture: !!int 1
  - requirements: 
      - pigment
      - blue
    results:
      modules:
        base_texture: 
          sub_texture: !!int 4
  - requirements:
      - blue
      - _pigment
    results:
      modules:
        base_texture:
          sub_texture: !!int 3
        trim_texture:
          sub_texture: !!int 12
        
      